drop table Book if exists;
create table Book (
	id bigint not null auto_increment,
	title varchar(255),
	pages integer not null,
	primary key (id)
);


CREATE TABLE pet_type (
                          id   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                          name VARCHAR(80)
);
CREATE INDEX pet_type_name ON pet_type (name);

CREATE TABLE owner (
                       id         INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                       first_name VARCHAR(30),
                       last_name  VARCHAR(30),
                       address    VARCHAR(255),
                       city       VARCHAR(80),
                       telephone  VARCHAR(20)
);
CREATE INDEX owner_last_name ON owner (last_name);

CREATE TABLE pet (
                     id         INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                     name       VARCHAR(30),
                     birth_date DATE,
                     type_id    INTEGER NOT NULL,
                     owner_id   INTEGER NOT NULL
);
ALTER TABLE pet ADD CONSTRAINT fk_pet_owner FOREIGN KEY (owner_id) REFERENCES owner (id);
ALTER TABLE pet ADD CONSTRAINT fk_pet_type FOREIGN KEY (type_id) REFERENCES pet_type (id);
CREATE INDEX pet_name ON pet (name);
